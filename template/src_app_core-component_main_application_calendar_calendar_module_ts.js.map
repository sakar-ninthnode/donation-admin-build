{"version":3,"file":"src_app_core-component_main_application_calendar_calendar_module_ts.js","mappings":"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","sources":["./src/app/core-component/main/application/calendar/calendar-routing.module.ts","./src/app/core-component/main/application/calendar/calendar.component.ts","./src/app/core-component/main/application/calendar/calendar.component.html","./src/app/core-component/main/application/calendar/calendar.module.ts","./src/app/core-component/main/application/calendar/event-utils.ts","./node_modules/@fullcalendar/daygrid/index.js","./node_modules/@fullcalendar/daygrid/internal.js","./node_modules/@fullcalendar/interaction/index.js","./node_modules/@fullcalendar/list/index.js","./node_modules/@fullcalendar/list/internal.js","./node_modules/@fullcalendar/timegrid/index.js","./node_modules/@fullcalendar/timegrid/internal.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CalendarComponent } from './calendar.component';\r\n\r\nconst routes: Routes = [{ path: '', component: CalendarComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CalendarRoutingModule { }\r\n","import { ChangeDetectorRef, Component, ViewEncapsulation } from '@angular/core';\r\nimport { routes } from 'src/app/core/core.index';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport {\r\n  CalendarOptions,\r\n  EventApi,\r\n  DateSelectArg,\r\n  EventClickArg,\r\n} from '@fullcalendar/core';\r\nimport listPlugin from '@fullcalendar/list';\r\nimport { INITIAL_EVENTS, createEventId } from './event-utils';\r\n\r\n@Component({\r\n  selector: 'app-calendar',\r\n  templateUrl: './calendar.component.html',\r\n  styleUrls: ['./calendar.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class CalendarComponent {\r\n  public routes = routes;\r\n  country = 'India';\r\n  calendarVisible = true;\r\n  calendarOptions: CalendarOptions = {\r\n    plugins: [interactionPlugin, dayGridPlugin, timeGridPlugin, listPlugin],\r\n    headerToolbar: {\r\n      left: 'prev,next today',\r\n      center: 'title',\r\n      right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek',\r\n    },\r\n    initialView: 'dayGridMonth',\r\n    initialEvents: INITIAL_EVENTS,\r\n    weekends: true,\r\n    editable: true,\r\n    selectable: true,\r\n    selectMirror: true,\r\n    dayMaxEvents: true,\r\n    select: this.handleDateSelect.bind(this),\r\n    eventClick: this.handleEventClick.bind(this),\r\n    eventsSet: this.handleEvents.bind(this),\r\n  };\r\n  currentEvents: EventApi[] = [];\r\n\r\n  constructor(private changeDetector: ChangeDetectorRef) {}\r\n\r\n  handleCalendarToggle() {\r\n    this.calendarVisible = !this.calendarVisible;\r\n  }\r\n\r\n  handleWeekendsToggle() {\r\n    const { calendarOptions } = this;\r\n    calendarOptions.weekends = !calendarOptions.weekends;\r\n  }\r\n\r\n  handleDateSelect(selectInfo: DateSelectArg) {\r\n    const title = prompt('Please enter a new title for your event');\r\n    const calendarApi = selectInfo.view.calendar;\r\n\r\n    calendarApi.unselect();\r\n\r\n    if (title) {\r\n      calendarApi.addEvent({\r\n        id: createEventId(),\r\n        title,\r\n        start: selectInfo.startStr,\r\n        end: selectInfo.endStr,\r\n        allDay: selectInfo.allDay,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleEventClick(clickInfo: EventClickArg) {\r\n    if (\r\n      confirm(\r\n        `Are you sure you want to delete the event '${clickInfo.event.title}'`\r\n      )\r\n    ) {\r\n      clickInfo.event.remove();\r\n    }\r\n  }\r\n\r\n  handleEvents(events: EventApi[]) {\r\n    this.currentEvents = events;\r\n    this.changeDetector.detectChanges();\r\n  }\r\n}\r\n","<div class=\"page-header\">\r\n  <div class=\"row align-items-center w-100\">\r\n    <div class=\"col-lg-10 col-sm-12\">\r\n      <h3 class=\"page-title\">Calendar</h3>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-lg-3 col-md-4\">\r\n    <h4 class=\"card-title\">Drag & Drop Event</h4>\r\n    <div id=\"calendar-events\" class=\"mb-3\">\r\n      <div class=\"calendar-events\" data-class=\"bg-info\">\r\n        <i class=\"fas fa-circle text-info\"></i> My Event One\r\n      </div>\r\n      <div class=\"calendar-events\" data-class=\"bg-success\">\r\n        <i class=\"fas fa-circle text-success\"></i> My Event Two\r\n      </div>\r\n      <div class=\"calendar-events\" data-class=\"bg-danger\">\r\n        <i class=\"fas fa-circle text-danger\"></i> My Event Three\r\n      </div>\r\n      <div class=\"calendar-events\" data-class=\"bg-warning\">\r\n        <i class=\"fas fa-circle text-warning\"></i> My Event Four\r\n      </div>\r\n    </div>\r\n    <div class=\"checkbox mb-3\">\r\n      <input id=\"drop-remove\" class=\"margin-drop me-1\" type=\"checkbox\" />\r\n      <label for=\"drop-remove\"> Remove after drop </label>\r\n    </div>\r\n    <a href=\"javascript:void(0)\" data-bs-toggle=\"modal\" data-bs-target=\"#add_new_event\"\r\n      class=\"btn mb-3 btn-primary btn-block w-100\">\r\n      <i class=\"fas fa-plus\"></i> Add Category\r\n    </a>\r\n  </div>\r\n  <div class=\"col-lg-9 col-md-8\">\r\n    <div class=\"col-auto d-flex justify-content-end mb-2\">\r\n      <a href=\"javascript:void(0)\" class=\"btn btn-primary\" data-bs-toggle=\"modal\"\r\n      data-bs-target=\"#add_event\">Create Event</a>\r\n    </div>\r\n    <div class=\"card bg-white\">\r\n      <div class=\"card-body\">\r\n        @if (calendarVisible) {\r\n          <full-calendar [options]='calendarOptions'>\r\n            <ng-template #eventContent let-arg>\r\n              <b>{{ arg.timeText }}</b>\r\n              <i>{{ arg.event.title }}</i>\r\n            </ng-template>\r\n          </full-calendar>\r\n        }\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<!-- Add Event Modal -->\r\n<div id=\"add_event\" class=\"modal custom-modal fade\" role=\"dialog\">\r\n  <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">Add Event</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\"></span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form>\r\n          <div class=\"form-group\">\r\n            <label>Event Name <span class=\"text-danger\">*</span></label>\r\n            <input class=\"form-control\" type=\"text\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Event Date <span class=\"text-danger\">*</span></label>\r\n            <div class=\"cal-icon\">\r\n              <input type=\"text\" class=\"form-control\" name=\"dp\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"submit-section\">\r\n            <button class=\"btn btn-primary submit-btn\">Submit</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- /Add Event Modal -->\r\n\r\n<!-- Add Category Modal -->\r\n<div class=\"modal custom-modal fade\" id=\"add_new_event\">\r\n  <div class=\"modal-dialog modal-dialog-centered\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\">Add Category</h4>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-hidden=\"true\">\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form>\r\n          <div class=\"form-group\">\r\n            <label>Category Name</label>\r\n            <input class=\"form-control form-white\" placeholder=\"Enter name\" type=\"text\"\r\n              name=\"category-name\" />\r\n            </div>\r\n            <div class=\"form-group mb-0\">\r\n              <label>Choose Category Color</label>\r\n              <select class=\"form-white form-select\">\r\n                <option value=\"success\">Success</option>\r\n                <option value=\"danger\">Danger</option>\r\n                <option value=\"info\">Info</option>\r\n                <option value=\"primary\">Primary</option>\r\n                <option value=\"warning\">Warning</option>\r\n                <option value=\"inverse\">Inverse</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"submit-section\">\r\n              <button type=\"button\" class=\"btn btn-primary save-category submit-btn\" data-bs-dismiss=\"modal\">\r\n                Save\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- /Add Category Modal -->","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CalendarRoutingModule } from './calendar-routing.module';\r\nimport { CalendarComponent } from './calendar.component';\r\nimport { sharedModule } from 'src/app/shared/shared.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CalendarComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    CalendarRoutingModule,\r\n    sharedModule\r\n  ]\r\n})\r\nexport class CalendarModule { }\r\n","import { EventInput } from '@fullcalendar/core';\r\n\r\nlet eventGuid = 0;\r\nconst TODAY_STR = new Date().toISOString().replace(/T.*$/, ''); // YYYY-MM-DD of today\r\n\r\nexport const INITIAL_EVENTS: EventInput[] = [\r\n  {\r\n    id: createEventId(),\r\n    title: 'All-day event',\r\n    start: TODAY_STR\r\n  },\r\n  {\r\n    id: createEventId(),\r\n    title: 'Timed event',\r\n    start: TODAY_STR + 'T00:00:00',\r\n    end: TODAY_STR + 'T03:00:00'\r\n  },\r\n  {\r\n    id: createEventId(),\r\n    title: 'Timed event',\r\n    start: TODAY_STR + 'T12:00:00',\r\n    end: TODAY_STR + 'T15:00:00'\r\n  }\r\n];\r\n\r\nexport function createEventId() {\r\n  return String(eventGuid++);\r\n}","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayGridView as DayTableView, TableDateProfileGenerator } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nvar index = createPlugin({\n    name: '@fullcalendar/daygrid',\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            fixedWeekCount: true,\n        },\n        dayGridYear: {\n            type: 'dayGrid',\n            duration: { years: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { DateComponent, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DayHeader, DaySeriesModel, DayTableModel, DateProfileGenerator, addWeeks, diffWeeks, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createRef, createElement, Fragment } from '@fullcalendar/core/preact.js';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\n    }\n}\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\n    }\n}\nfunction renderInnerContent(renderProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { options, dateEnv } = context;\n        let { date, dateProfile } = props;\n        // TODO: memoize this?\n        const isMonthStart = props.showDayNumber &&\n            shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\n                'fc-daygrid-day',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart: isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { ref: props.innerElRef, className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", style: { minHeight: props.minHeight } },\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\n            !renderProps.isDisabled &&\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\n                createElement(InnerContent, { elTag: \"a\", elClasses: [\n                        'fc-daygrid-day-number',\n                        isMonthStart && 'fc-daygrid-month-start',\n                    ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))) : props.showDayNumber ? (\n            // for creating correct amount of space (see issue #7162)\n            createElement(\"div\", { className: \"fc-daygrid-day-top\", style: { visibility: 'hidden' } },\n                createElement(\"a\", { className: \"fc-daygrid-day-number\" }, \"\\u00A0\"))) : undefined,\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                props.fgContent,\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\n}\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\n    const { start: currentStart, end: currentEnd } = currentRange;\n    const currentEndIncl = addMs(currentEnd, -1);\n    const currentFirstYear = dateEnv.getYear(currentStart);\n    const currentFirstMonth = dateEnv.getMonth(currentStart);\n    const currentLastYear = dateEnv.getYear(currentEndIncl);\n    const currentLastMonth = dateEnv.getMonth(currentEndIncl);\n    // spans more than one month?\n    return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) &&\n        Boolean(\n        // first date in current view?\n        date.valueOf() === currentStart.valueOf() ||\n            // a month-start that's within the current range?\n            (dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()));\n}\n\nfunction generateSegKey(seg) {\n    return seg.eventRange.instance.instanceId + ':' + seg.firstCol;\n}\nfunction generateSegUid(seg) {\n    return generateSegKey(seg) + ':' + seg.lastCol;\n}\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, segHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy((segEntry) => {\n        // TODO: more DRY with generateSegUid\n        let segUid = segs[segEntry.index].eventRange.instance.instanceId +\n            ':' + segEntry.span.start +\n            ':' + (segEntry.span.end - 1);\n        // if no thickness known, assume 1 (if 0, so small it always fits)\n        return segHeights[segUid] || 1;\n    });\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let segUid = generateSegUid(seg);\n        let eventHeight = segHeights[segUid];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        // the entry that the new insertion is touching must be hidden\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    // split up the touchingEntry, reinsert it\n                    const hiddenEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    // reinsert the area that turned into a \"more\" link (so no other entries try to\n                    // occupy the space) but mark it forced-hidden\n                    const hiddenEntryId = buildEntryKey(hiddenEntry);\n                    forceHidden[hiddenEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = hiddenEntry;\n                    hiddenEntries.push(hiddenEntry);\n                    this.splitEntry(touchingEntry, entry, hiddenEntries);\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        // will try to reslice...\n        super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {},\n        };\n        this.handleResize = (isForced) => {\n            if (isForced) {\n                this.updateSizing(true); // isExternal=true\n            }\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.segHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))), minHeight: props.cellMinHeight }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: generateSegKey(seg), ref: isMirror ? null : this.segHarnessRefs.createRef(generateSegUid(seg)), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, state, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    let newPositionCache = new PositionCache(originEl, frameEls, true, // isHorizontal\n                    false);\n                    if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\n                        this.setState({\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                            false),\n                        });\n                    }\n                }\n            }\n            const oldSegHeights = this.state.segHeights;\n            const newSegHeights = this.querySegHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                segHeights: Object.assign(Object.assign({}, oldSegHeights), newSegHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    querySegHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let segHeights = {};\n        // get the max height amongst instance segs\n        for (let segUid in segElMap) {\n            let height = Math.round(segElMap[segUid].getBoundingClientRect().height);\n            segHeights[segUid] = Math.max(segHeights[segUid] || 0, height);\n        }\n        return segHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    segHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass TableRows extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitSegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\n        // choose 7 because a month view will have max 6 rows\n        let cellMinHeight = (rowCnt >= 7 && props.clientWidth) ?\n            props.clientWidth / context.options.aspectRatio / 6 :\n            null;\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                : row // in case there are no cells (like when resource view is loading)\n            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: props.dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, cellMinHeight: cellMinHeight, forPrint: props.forPrint })))))));\n    }\n    componentDidMount() {\n        this.registerInteractiveComponent();\n    }\n    componentDidUpdate() {\n        // for if started with zero cells\n        this.registerInteractiveComponent();\n    }\n    registerInteractiveComponent() {\n        if (!this.rootEl) {\n            // HACK: need a daygrid wrapper parent to do positioning\n            // NOTE: a daygrid resource view w/o resources can have zero cells\n            const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\n            const rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\n            if (rootEl) {\n                this.rootEl = rootEl;\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.rootEl) {\n            this.context.unregisterInteractiveComponent(this);\n            this.rootEl = null;\n        }\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n        this.needsScrollReset = false;\n    }\n    render() {\n        let { props } = this;\n        let { dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { ref: this.elRef, className: classNames.join(' '), style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                    height: expandRows ? props.clientHeight : '',\n                } },\n                props.colGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })))));\n    }\n    componentDidMount() {\n        this.requestScrollReset();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.dateProfile !== this.props.dateProfile) {\n            this.requestScrollReset();\n        }\n        else {\n            this.flushScrollReset();\n        }\n    }\n    requestScrollReset() {\n        this.needsScrollReset = true;\n        this.flushScrollReset();\n    }\n    flushScrollReset() {\n        if (this.needsScrollReset &&\n            this.props.clientWidth // sizes computed?\n        ) {\n            const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\n            if (subjectEl) {\n                const originEl = subjectEl.closest('.fc-daygrid-body');\n                const scrollEl = originEl.closest('.fc-scroller');\n                const scrollTop = subjectEl.getBoundingClientRect().top -\n                    originEl.getBoundingClientRect().top;\n                scrollEl.scrollTop = scrollTop ? (scrollTop + 1) : 0; // overcome border\n            }\n            this.needsScrollReset = false;\n        }\n    }\n}\nfunction getScrollSubjectEl(containerEl, dateProfile) {\n    let el;\n    if (dateProfile.currentRangeUnit.match(/year|month/)) {\n        el = containerEl.querySelector(`[data-date=\"${formatIsoMonthStr(dateProfile.currentDate)}-01\"]`);\n        // even if view is month-based, first-of-month might be hidden...\n    }\n    if (!el) {\n        el = containerEl.querySelector(`[data-date=\"${formatDayString(dateProfile.currentDate)}\"]`);\n        // could still be hidden if an interior-view hidden day\n    }\n    return el;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n        // can't override any lifecycle methods from parent\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let { props } = this;\n        return buildDayTableRenderRange({\n            currentRange: renderRange,\n            snapToWeek: /^(year|month)$/.test(currentRangeUnit),\n            fixedWeekCount: props.fixedWeekCount,\n            dateEnv: props.dateEnv,\n        });\n    }\n}\nfunction buildDayTableRenderRange(props) {\n    let { dateEnv, currentRange } = props;\n    let { start, end } = currentRange;\n    let endOfWeek;\n    // year and month views should be aligned with weeks. this is already done for week\n    if (props.snapToWeek) {\n        start = dateEnv.startOfWeek(start);\n        // make end-of-week if not already\n        endOfWeek = dateEnv.startOfWeek(end);\n        if (endOfWeek.valueOf() !== end.valueOf()) {\n            end = addWeeks(endOfWeek, 1);\n        }\n    }\n    // ensure 6 weeks\n    if (props.fixedWeekCount) {\n        // TODO: instead of these date-math gymnastics (for multimonth view),\n        // compute dateprofiles of all months, then use start of first and end of last.\n        let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\n        let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n        diffWeeks(lastMonthRenderStart, end));\n        end = addWeeks(end, 6 - rowCnt);\n    }\n    return { start, end };\n}\n\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\ninjectStyles(css_248z);\n\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { config, Emitter, elementClosest, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, ElementDragging, preventSelection, preventContextMenu, allowSelection, allowContextMenu, computeRect, getClippingParents, pointInsideRect, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, isDateSpansEqual, Interaction, interactionSettingsToStore, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventImpl, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS } from '@fullcalendar/core/internal.js';\n\nconfig.touchMouseIgnoreWait = 500;\nlet ignoreMouseDepth = 0;\nlet listenerCnt = 0;\nlet isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nclass PointerDragging {\n    constructor(containerEl) {\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = (ev) => {\n            if (!this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                this.tryStart(ev)) {\n                let pev = this.createEventFromMouse(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                if (!this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = (ev) => {\n            let pev = this.createEventFromMouse(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = (ev) => {\n            document.removeEventListener('mousemove', this.handleMouseMove);\n            document.removeEventListener('mouseup', this.handleMouseUp);\n            this.emitter.trigger('pointerup', this.createEventFromMouse(ev));\n            this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = (ev) => {\n            if (this.tryStart(ev)) {\n                this.isTouchDragging = true;\n                let pev = this.createEventFromTouch(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                let targetEl = ev.target;\n                if (!this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = (ev) => {\n            let pev = this.createEventFromTouch(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = (ev) => {\n            if (this.isDragging) { // done to guard against touchend followed by touchcancel\n                let targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', this.handleTouchMove);\n                targetEl.removeEventListener('touchend', this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', this.handleTouchEnd);\n                window.removeEventListener('scroll', this.handleTouchScroll, true); // useCaptured=true\n                this.emitter.trigger('pointerup', this.createEventFromTouch(ev));\n                this.cleanup(); // call last so that pointerup has access to props\n                this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = () => {\n            this.wasTouchScroll = true;\n        };\n        this.handleScroll = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                let pageX = (window.scrollX - this.prevScrollX) + this.prevPageX;\n                let pageY = (window.scrollY - this.prevScrollY) + this.prevPageY;\n                this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: this.isTouchDragging,\n                    subjectEl: this.subjectEl,\n                    pageX,\n                    pageY,\n                    deltaX: pageX - this.origPageX,\n                    deltaY: pageY - this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    destroy() {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    }\n    tryStart(ev) {\n        let subjectEl = this.querySubjectEl(ev);\n        let downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    }\n    cleanup() {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    }\n    querySubjectEl(ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    }\n    shouldIgnoreMouse() {\n        return ignoreMouseDepth || this.isTouchDragging;\n    }\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    cancelTouchScroll() {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    }\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    initScrollWatch(ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    }\n    recordCoords(ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.scrollX;\n            this.prevScrollY = window.scrollY;\n        }\n    }\n    destroyScrollWatch() {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    }\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    createEventFromMouse(ev, isFirst) {\n        let deltaX = 0;\n        let deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n    createEventFromTouch(ev, isFirst) {\n        let touches = ev.touches;\n        let pageX;\n        let pageY;\n        let deltaX = 0;\n        let deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX,\n            pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n}\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(() => {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nclass ElementMirror {\n    constructor() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    start(sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.scrollX;\n        this.origScreenY = pageY - window.scrollY;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    }\n    handleMove(pageX, pageY) {\n        this.deltaX = (pageX - window.scrollX) - this.origScreenX;\n        this.deltaY = (pageY - window.scrollY) - this.origScreenY;\n        this.updateElPosition();\n    }\n    // can be called before start\n    setIsVisible(bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    }\n    // always async\n    stop(needsRevertAnimation, callback) {\n        let done = () => {\n            this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    }\n    doRevertAnimation(callback, revertDuration) {\n        let mirrorEl = this.mirrorEl;\n        let finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, () => {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    }\n    cleanup() {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    }\n    updateElPosition() {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    }\n    getMirrorEl() {\n        let sourceElRect = this.sourceElRect;\n        let mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.style.userSelect = 'none';\n            mirrorEl.style.webkitUserSelect = 'none';\n            mirrorEl.style.pointerEvents = 'none';\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    }\n}\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nclass ScrollGeomCache extends ScrollController {\n    constructor(scrollController, doesListening) {\n        super();\n        this.handleScroll = () => {\n            this.scrollTop = this.scrollController.getScrollTop();\n            this.scrollLeft = this.scrollController.getScrollLeft();\n            this.handleScrollChange();\n        };\n        this.scrollController = scrollController;\n        this.doesListening = doesListening;\n        this.scrollTop = this.origScrollTop = scrollController.getScrollTop();\n        this.scrollLeft = this.origScrollLeft = scrollController.getScrollLeft();\n        this.scrollWidth = scrollController.getScrollWidth();\n        this.scrollHeight = scrollController.getScrollHeight();\n        this.clientWidth = scrollController.getClientWidth();\n        this.clientHeight = scrollController.getClientHeight();\n        this.clientRect = this.computeClientRect(); // do last in case it needs cached values\n        if (this.doesListening) {\n            this.getEventTarget().addEventListener('scroll', this.handleScroll);\n        }\n    }\n    destroy() {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    }\n    getScrollTop() {\n        return this.scrollTop;\n    }\n    getScrollLeft() {\n        return this.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    }\n    setScrollLeft(top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    }\n    getClientWidth() {\n        return this.clientWidth;\n    }\n    getClientHeight() {\n        return this.clientHeight;\n    }\n    getScrollWidth() {\n        return this.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.scrollHeight;\n    }\n    handleScrollChange() {\n    }\n}\n\nclass ElementScrollGeomCache extends ScrollGeomCache {\n    constructor(el, doesListening) {\n        super(new ElementScrollController(el), doesListening);\n    }\n    getEventTarget() {\n        return this.scrollController.el;\n    }\n    computeClientRect() {\n        return computeInnerRect(this.scrollController.el);\n    }\n}\n\nclass WindowScrollGeomCache extends ScrollGeomCache {\n    constructor(doesListening) {\n        super(new WindowScrollController(), doesListening);\n    }\n    getEventTarget() {\n        return window;\n    }\n    computeClientRect() {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    }\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    handleScrollChange() {\n        this.clientRect = this.computeClientRect();\n    }\n}\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nconst getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nclass AutoScroller {\n    constructor() {\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = () => {\n            if (this.isAnimating) { // wasn't cancelled between animation calls\n                let edge = this.computeBestEdge(this.pointerScreenX + window.scrollX, this.pointerScreenY + window.scrollY);\n                if (edge) {\n                    let now = getTime();\n                    this.handleSide(edge, (now - this.msSinceRequest) / 1000);\n                    this.requestAnimation(now);\n                }\n                else {\n                    this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    start(pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    }\n    handleMove(pageX, pageY) {\n        if (this.isEnabled) {\n            let pointerScreenX = pageX - window.scrollX;\n            let pointerScreenY = pageY - window.scrollY;\n            let yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            let xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    }\n    stop() {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (let scrollCache of this.scrollCaches) {\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    }\n    requestAnimation(now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    }\n    handleSide(edge, seconds) {\n        let { scrollCache } = edge;\n        let { edgeThreshold } = this;\n        let invDistance = edgeThreshold - edge.distance;\n        let velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        let sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    }\n    // left/top are relative to document topleft\n    computeBestEdge(left, top) {\n        let { edgeThreshold } = this;\n        let bestSide = null;\n        let scrollCaches = this.scrollCaches || [];\n        for (let scrollCache of scrollCaches) {\n            let rect = scrollCache.clientRect;\n            let leftDist = left - rect.left;\n            let rightDist = rect.right - left;\n            let topDist = top - rect.top;\n            let bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                /*\n                TODO: fix broken RTL scrolling. canScrollLeft always returning false\n                https://github.com/fullcalendar/fullcalendar/issues/4837\n                */\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    }\n    buildCaches(scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map((el) => {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    }\n    queryScrollEls(scrollStartEl) {\n        let els = [];\n        for (let query of this.scrollQuery) {\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                /*\n                TODO: in the future, always have auto-scroll happen on element where current Hit came from\n                Ticket: https://github.com/fullcalendar/fullcalendar/issues/4593\n                */\n                els.push(...Array.prototype.slice.call(scrollStartEl.getRootNode().querySelectorAll(query)));\n            }\n        }\n        return els;\n    }\n}\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nclass FeaturefulElementDragging extends ElementDragging {\n    constructor(containerEl, selector) {\n        super(containerEl);\n        this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        this.delay = null;\n        this.minDistance = 0;\n        this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        this.mirrorNeedsRevert = false;\n        this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        this.isDelayEnded = false;\n        this.isDistanceSurpassed = false;\n        this.delayTimeoutId = null;\n        this.onPointerDown = (ev) => {\n            if (!this.isDragging) { // so new drag doesn't happen while revert animation is going\n                this.isInteracting = true;\n                this.isDelayEnded = false;\n                this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                this.emitter.trigger('pointerdown', ev);\n                if (this.isInteracting && // not destroyed via pointerdown handler\n                    !this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    this.startDelay(ev);\n                    if (!this.minDistance) {\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        this.onPointerMove = (ev) => {\n            if (this.isInteracting) {\n                this.emitter.trigger('pointermove', ev);\n                if (!this.isDistanceSurpassed) {\n                    let minDistance = this.minDistance;\n                    let distanceSq; // current distance from the origin, squared\n                    let { deltaX, deltaY } = ev;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        this.mirror.handleMove(ev.pageX, ev.pageY);\n                        this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        this.onPointerUp = (ev) => {\n            if (this.isInteracting) {\n                this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (this.isDragging) {\n                    this.autoScroller.stop();\n                    this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (this.delayTimeoutId) {\n                    clearTimeout(this.delayTimeoutId);\n                    this.delayTimeoutId = null;\n                }\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.onPointerDown);\n        pointer.emitter.on('pointermove', this.onPointerMove);\n        pointer.emitter.on('pointerup', this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        this.mirror = new ElementMirror();\n        this.autoScroller = new AutoScroller();\n    }\n    destroy() {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    }\n    startDelay(ev) {\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(() => {\n                this.delayTimeoutId = null;\n                this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    }\n    handleDelayEnd(ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    }\n    handleDistanceSurpassed(ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    }\n    tryStartDrag(ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    }\n    tryStopDrag(ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    }\n    stopDrag(ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    }\n    // fill in the implementations...\n    setIgnoreMove(bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        this.mirror.setIsVisible(bool);\n    }\n    setMirrorNeedsRevert(bool) {\n        this.mirrorNeedsRevert = bool;\n    }\n    setAutoScrollEnabled(bool) {\n        this.autoScroller.isEnabled = bool;\n    }\n}\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nclass OffsetTracker {\n    constructor(el) {\n        this.el = el;\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map((scrollEl) => new ElementScrollGeomCache(scrollEl, true));\n    }\n    destroy() {\n        for (let scrollCache of this.scrollCaches) {\n            scrollCache.destroy();\n        }\n    }\n    computeLeft() {\n        let left = this.origRect.left;\n        for (let scrollCache of this.scrollCaches) {\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    }\n    computeTop() {\n        let top = this.origRect.top;\n        for (let scrollCache of this.scrollCaches) {\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    }\n    isWithinClipping(pageX, pageY) {\n        let point = { left: pageX, top: pageY };\n        for (let scrollCache of this.scrollCaches) {\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    let tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nclass HitDragging {\n    constructor(dragging, droppableStore) {\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.disablePointCheck = false;\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            this.initialHit = null;\n            this.movingHit = null;\n            this.finalHit = null;\n            this.prepareHits();\n            this.processFirstCoord(ev);\n            if (this.initialHit || !this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = (ev) => {\n            this.emitter.trigger('dragstart', ev);\n            this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = (ev) => {\n            this.emitter.trigger('dragmove', ev);\n            this.handleMove(ev);\n        };\n        this.handlePointerUp = (ev) => {\n            this.releaseHits();\n            this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.movingHit) {\n                this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            this.finalHit = this.movingHit;\n            this.movingHit = null;\n            this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    processFirstCoord(ev) {\n        let origPoint = { left: ev.pageX, top: ev.pageY };\n        let adjustedPoint = origPoint;\n        let subjectEl = ev.subjectEl;\n        let subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        let initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                let slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    }\n    handleMove(ev, forceHandle) {\n        let hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    }\n    prepareHits() {\n        this.offsetTrackers = mapHash(this.droppableStore, (interactionSettings) => {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    }\n    releaseHits() {\n        let { offsetTrackers } = this;\n        for (let id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    }\n    queryHitForOffset(offsetLeft, offsetTop) {\n        let { droppableStore, offsetTrackers } = this;\n        let bestHit = null;\n        for (let id in droppableStore) {\n            let component = droppableStore[id].component;\n            let offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                let originLeft = offsetTracker.computeLeft();\n                let originTop = offsetTracker.computeTop();\n                let positionLeft = offsetLeft - originLeft;\n                let positionTop = offsetTop - originTop;\n                let { origRect } = offsetTracker;\n                let width = origRect.right - origRect.left;\n                let height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    let hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        // Ensure the component we are querying for the hit is accessibly my the pointer\n                        // Prevents obscured calendars (ex: under a modal dialog) from accepting hit\n                        // https://github.com/fullcalendar/fullcalendar/issues/5026\n                        (this.disablePointCheck ||\n                            offsetTracker.el.contains(offsetTracker.el.getRootNode().elementFromPoint(\n                            // add-back origins to get coordinate relative to top-left of window viewport\n                            positionLeft + originLeft - window.scrollX, positionTop + originTop - window.scrollY))) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    }\n}\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.datePointTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nclass DateClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handlePointerDown = (pev) => {\n            let { dragging } = this;\n            let downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        this.handleDragEnd = (ev) => {\n            let { component } = this;\n            let { pointer } = this.dragging;\n            if (!pointer.wasTouchScroll) {\n                let { initialHit, finalHit } = this.hitDragging;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    let { context } = component;\n                    let arg = Object.assign(Object.assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        this.dragging = new FeaturefulElementDragging(settings.el);\n        this.dragging.autoScroller.isEnabled = false;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nclass DateSelecting extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.dragSelection = null;\n        this.handlePointerDown = (ev) => {\n            let { component, dragging } = this;\n            let { options } = component.context;\n            let canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        this.handleDragStart = (ev) => {\n            this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            let { context } = this.component;\n            let dragSelection = null;\n            let isInvalid = false;\n            if (hit) {\n                let initialHit = this.hitDragging.initialHit;\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        this.handlePointerUp = (pev) => {\n            if (this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(this.dragSelection, pev, this.component.context);\n                this.dragSelection = null;\n            }\n        };\n        let { component } = settings;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\nfunction getComponentTouchDelay$1(component) {\n    let { options } = component.context;\n    let delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    let props = {};\n    for (let transformer of dateSelectionTransformers) {\n        let res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            Object.assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nclass EventDragging extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.subjectEl = null;\n        this.subjectSeg = null; // the seg being selected/dragged\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null; // the events being dragged\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let origTarget = ev.origEvent.target;\n            let { component, dragging } = this;\n            let { mirror } = dragging;\n            let { options } = component.context;\n            let initialContext = component.context;\n            this.subjectEl = ev.subjectEl;\n            let subjectSeg = this.subjectSeg = getElSeg(ev.subjectEl);\n            let eventRange = this.eventRange = subjectSeg.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            let isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        this.handleDragStart = (ev) => {\n            let initialContext = this.component.context;\n            let eventRange = this.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: this.subjectEl,\n                    event: new EventImpl(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            if (!this.isDragging) {\n                return;\n            }\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let initialContext = this.component.context;\n            // states based on new hit\n            let receivingContext = null;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                let receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, this.eventRange.instance.range.start, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                this.dragging.setMirrorIsVisible(!hit || !this.subjectEl.getRootNode().querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                this.receivingContext = receivingContext;\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handlePointerUp = () => {\n            if (!this.isDragging) {\n                this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.isDragging) {\n                let initialContext = this.component.context;\n                let initialView = initialContext.viewApi;\n                let { receivingContext, validMutation } = this;\n                let eventDef = this.eventRange.def;\n                let eventInstance = this.eventRange.instance;\n                let eventApi = new EventImpl(initialContext, eventDef, eventInstance);\n                let relevantEvents = this.relevantEvents;\n                let mutatedRelevantEvents = this.mutatedRelevantEvents;\n                let { finalHit } = this.hitDragging;\n                this.clearDrag(); // must happen after revert animation\n                initialContext.emitter.trigger('eventDragStop', {\n                    el: this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext === initialContext) {\n                        let updatedEventApi = new EventImpl(initialContext, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                        initialContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents, // the pre-change data\n                                });\n                            },\n                        };\n                        let transformed = {};\n                        for (let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers) {\n                            Object.assign(transformed, transformer(validMutation, initialContext));\n                        }\n                        initialContext.emitter.trigger('eventDrop', Object.assign(Object.assign(Object.assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext) {\n                        let eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents,\n                                });\n                            },\n                        };\n                        initialContext.emitter.trigger('eventLeave', Object.assign(Object.assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                        initialContext.emitter.trigger('eventRemove', eventRemoveArg);\n                        let addedEventDef = mutatedRelevantEvents.defs[eventDef.defId];\n                        let addedEventInstance = mutatedRelevantEvents.instances[eventInstance.instanceId];\n                        let addedEventApi = new EventImpl(receivingContext, addedEventDef, addedEventInstance);\n                        receivingContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, receivingContext, addedEventInstance),\n                            revert() {\n                                receivingContext.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents,\n                                });\n                            },\n                        };\n                        receivingContext.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext.emitter.trigger('eventReceive', Object.assign(Object.assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext.emitter.trigger('_noEventDrop');\n                }\n            }\n            this.cleanup();\n        };\n        let { component } = this;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    // render a drag state on the next receivingCalendar\n    displayDrag(nextContext, state) {\n        let initialContext = this.component.context;\n        let prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        let initialCalendar = this.component.context;\n        let { receivingContext } = this;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    cleanup() {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    }\n}\n// TODO: test this in IE11\n// QUESTION: why do we need it on the resizable???\nEventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\nfunction computeEventMutation(hit0, hit1, eventInstanceStart, massagers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let date0 = dateSpan0.range.start;\n    let date1 = dateSpan1.range.start;\n    let standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(eventInstanceStart);\n        }\n        else {\n            // Moving from allDate->timed\n            // Doesn't matter where on the event the drag began, mutate the event's start-date to date1\n            date0 = eventInstanceStart;\n        }\n    }\n    let delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    let mutation = {\n        datesDelta: delta,\n        standardProps,\n    };\n    for (let massager of massagers) {\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    let { options } = component.context;\n    let delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nclass EventResizing extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.draggingSegEl = null;\n        this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let { component } = this;\n            let segEl = this.querySegEl(ev);\n            let seg = getElSeg(segEl);\n            let eventRange = this.eventRange = seg.eventRange;\n            this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        this.handleDragStart = (ev) => {\n            let { context } = this.component;\n            let eventRange = this.eventRange;\n            this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, this.eventRange.instance.instanceId);\n            let segEl = this.querySegEl(ev);\n            this.draggingSegEl = segEl;\n            this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventImpl(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { context } = this.component;\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let eventInstance = this.eventRange.instance;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            let { context } = this.component;\n            let eventDef = this.eventRange.def;\n            let eventInstance = this.eventRange.instance;\n            let eventApi = new EventImpl(context, eventDef, eventInstance);\n            let relevantEvents = this.relevantEvents;\n            let mutatedRelevantEvents = this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (this.validMutation) {\n                let updatedEventApi = new EventImpl(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                let eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert() {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', Object.assign(Object.assign({}, eventChangeArg), { el: this.draggingSegEl, startDelta: this.validMutation.startDelta || createDuration(0), endDelta: this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            this.draggingSeg = null;\n            this.relevantEvents = null;\n            this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        let { component } = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    querySegEl(ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    }\n}\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    let dateEnv = hit0.context.dateEnv;\n    let date0 = hit0.dateSpan.range.start;\n    let date1 = hit1.dateSpan.range.start;\n    let delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nclass UnselectAuto {\n    constructor(context) {\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = (selectInfo) => {\n            if (selectInfo.jsEvent) {\n                this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = (pev) => {\n            let unselectCancel = this.context.options.unselectCancel;\n            let downEl = getEventTargetViaRoot(pev.origEvent);\n            this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = (pev) => {\n            let { context } = this;\n            let { documentPointer } = this;\n            let calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    let unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            this.isRecentPointerDateSelect = false;\n        };\n        let documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    destroy() {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    }\n}\n\nconst OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nconst LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nclass ExternalElementDragging {\n    constructor(dragging, suppliedDragMeta) {\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = (ev) => {\n            this.dragMeta = this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { dragging } = this.hitDragging;\n            let receivingContext = null;\n            let droppableEvent = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                this.receivingContext = receivingContext;\n                this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = (pev) => {\n            let { receivingContext, droppableEvent } = this;\n            this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                let finalHit = this.hitDragging.finalHit;\n                let finalView = finalHit.context.viewApi;\n                let dragMeta = this.dragMeta;\n                receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    let addingEvents = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventImpl(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert() {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            this.receivingContext = null;\n            this.droppableEvent = null;\n        };\n        let hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    buildDragMeta(subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    }\n    displayDrag(nextContext, state) {\n        let prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    canDropElOnCalendar(el, receivingContext) {\n        let dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    }\n}\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    let defProps = Object.assign({}, dragMeta.leftoverProps);\n    for (let transform of context.pluginHooks.externalDefTransforms) {\n        Object.assign(defProps, transform(dateSpan, dragMeta));\n    }\n    let { refined, extra } = refineEventDef(defProps, context);\n    let def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    let start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    let end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    let instance = createEventInstance(def.defId, { start, end });\n    return { def, instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    let str = getEmbeddedElData(el, 'event');\n    let obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    let prefix = config.dataAttrPrefix;\n    let prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nclass ExternalDraggable {\n    constructor(el, settings = {}) {\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            let { minDistance, longPressDelay } = this.settings;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = (ev) => {\n            if (ev.isTouch &&\n                this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nclass InferredElementDragging extends ElementDragging {\n    constructor(containerEl) {\n        super(containerEl);\n        this.shouldIgnoreMove = false;\n        this.mirrorSelector = '';\n        this.currentMirrorEl = null;\n        this.handlePointerDown = (ev) => {\n            this.emitter.trigger('pointerdown', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                this.emitter.trigger('dragstart', ev);\n            }\n        };\n        this.handlePointerMove = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                this.emitter.trigger('dragmove', ev);\n            }\n        };\n        this.handlePointerUp = (ev) => {\n            this.emitter.trigger('pointerup', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                this.emitter.trigger('dragend', ev);\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.handlePointerDown);\n        pointer.emitter.on('pointermove', this.handlePointerMove);\n        pointer.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.pointer.destroy();\n    }\n    setIgnoreMove(bool) {\n        this.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            let mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    }\n}\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nclass ThirdPartyDraggable {\n    constructor(containerOrSettings, settings) {\n        let containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        let dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        let externalDragging = new ExternalElementDragging(dragging, settings.eventData);\n        // The hit-detection system requires that the dnd-mirror-element be pointer-events:none,\n        // but this can't be guaranteed for third-party draggables, so disable\n        externalDragging.hitDragging.disablePointCheck = true;\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\nvar index = createPlugin({\n    name: '@fullcalendar/interaction',\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport { ExternalDraggable as Draggable, ThirdPartyDraggable, index as default };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { ListView } from './internal.js';\nimport { identity, createFormatter } from '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nconst OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar index = createPlugin({\n    name: '@fullcalendar/list',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport { index as default };\n","import { BaseComponent, getUniqueDomId, getDateMeta, buildNavLinkAttrs, ContentContainer, getDayClassNames, formatDayString, createFormatter, EventContainer, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, DateComponent, memoize, ViewContainer, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, startOfDay, addDays, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createElement, Fragment } from '@fullcalendar/core/preact.js';\n\nclass ListViewHeaderRow extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            textId: getUniqueDomId(),\n        };\n    }\n    render() {\n        let { theme, dateEnv, options, viewApi } = this.context;\n        let { cellId, dayDate, todayRange } = this.props;\n        let { textId } = this.state;\n        let dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        let text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        let sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        let renderProps = Object.assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId,\n            text,\n            sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(ContentContainer, { elTag: \"tr\", elClasses: [\n                'fc-list-day',\n                ...getDayClassNames(dayMeta, theme),\n            ], elAttrs: {\n                'data-date': formatDayString(dayDate),\n            }, renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInnerContent, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => ( // TODO: force-hide top border based on :first-child\n        createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-list-day-cushion',\n                    theme.getClass('tableCellShaded'),\n                ] })))));\n    }\n}\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", Object.assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", Object.assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nclass ListViewEventRow extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg, timeHeaderId, eventHeaderId, dateHeaderId } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"tr\", elClasses: [\n                'fc-list-event',\n                seg.eventRange.def.url && 'fc-event-forced-url',\n            ], defaultGenerator: () => renderEventInnerContent(seg, context) /* weird */, seg: seg, timeText: \"\", disableDragging: true, disableResizing: true }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: {\n                        borderColor: eventContentArg.borderColor || eventContentArg.backgroundColor,\n                    } })),\n            createElement(InnerContent, { elTag: \"td\", elClasses: ['fc-list-event-title'], elAttrs: { headers: `${eventHeaderId} ${dateHeaderId}` } })))));\n    }\n}\nfunction renderEventInnerContent(seg, context) {\n    let interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", Object.assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    let { options } = context;\n    if (options.displayEventTime !== false) {\n        let eventDef = seg.eventRange.def;\n        let eventInstance = seg.eventRange.instance;\n        let doAllDay = false;\n        let timeText;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            let renderProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(ContentContainer, { elTag: \"td\", elClasses: ['fc-list-event-time'], elAttrs: {\n                    headers: `${timeHeaderId} ${dateHeaderId}`,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nclass ListView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.computeDateVars = memoize(computeDateVars);\n        this.eventStoreToSegs = memoize(this._eventStoreToSegs);\n        this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        this.setRootEl = (rootEl) => {\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { props, context } = this;\n        let { dayDates, dayRanges } = this.computeDateVars(props.dateProfile);\n        let eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewContainer, { elRef: this.setRootEl, elClasses: [\n                'fc-list',\n                context.theme.getClass('table'),\n                context.options.stickyHeaderDates !== false ?\n                    'fc-list-sticky' :\n                    '',\n            ], viewSpec: context.viewSpec },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                this.renderSegList(eventSegs, dayDates) :\n                this.renderEmptyMessage())));\n    }\n    renderEmptyMessage() {\n        let { options, viewApi } = this.context;\n        let renderProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(ContentContainer, { elTag: \"div\", elClasses: ['fc-list-empty'], renderProps: renderProps, generatorName: \"noEventsContent\", customGenerator: options.noEventsContent, defaultGenerator: renderNoEventsInner, classNameGenerator: options.noEventsClassNames, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-list-empty-cushion'] }))));\n    }\n    renderSegList(allSegs, dayDates) {\n        let { theme, options } = this.context;\n        let { timeHeaderId, eventHeaderId, dateHeaderIdRoot } = this.state;\n        let segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => {\n            let innerNodes = [];\n            for (let dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                let daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    let dayStr = formatDayString(dayDates[dayIndex]);\n                    let dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (let seg of daySegs) {\n                        innerNodes.push(createElement(ListViewEventRow, Object.assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    }\n    _eventStoreToSegs(eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    }\n    eventRangesToSegs(eventRanges, dayRanges) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    }\n    eventRangeToSegs(eventRange, dayRanges) {\n        let { dateEnv } = this.context;\n        let { nextDayThreshold } = this.context.options;\n        let range = eventRange.range;\n        let allDay = eventRange.def.allDay;\n        let dayIndex;\n        let segRange;\n        let seg;\n        let segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    }\n}\nfunction renderNoEventsInner(renderProps) {\n    return renderProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    let dayStart = startOfDay(dateProfile.renderRange.start);\n    let viewEnd = dateProfile.renderRange.end;\n    let dayDates = [];\n    let dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates, dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    let segsByDay = []; // sparse array\n    let i;\n    let seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar css_248z = \":root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}\";\ninjectStyles(css_248z);\n\nexport { ListView };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayTimeColsView } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\nimport '@fullcalendar/daygrid/internal.js';\n\nconst OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/timegrid',\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { Splitter, hasBgRendering, createFormatter, ViewContextType, ContentContainer, BaseComponent, DateComponent, diffDays, buildNavLinkAttrs, WeekNumberContainer, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorContainer, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkContainer, SegHierarchy, groupIntersectingEntries, binarySearch, getEntrySpanEnd, buildEntryKey, StandardEvent, memoize, sortEventSegs, DayCellContainer, hasCustomDayCellContent, getSegMeta, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, Slicer, intersectRanges, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createElement, createRef, Fragment } from '@fullcalendar/core/preact.js';\nimport { DayTable } from '@fullcalendar/daygrid/internal.js';\n\nclass AllDaySplitter extends Splitter {\n    getKeyInfo() {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    }\n    getKeysForDateSpan(dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    }\n    getKeysForEventDef(eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    }\n}\n\nconst DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    let classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, (context) => {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        let { dateEnv, options, viewApi } = context;\n        let labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        let renderProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(ContentContainer, { elTag: \"td\", elClasses: classNames, elAttrs: {\n                'data-time': props.isoTimeStr,\n            }, renderProps: renderProps, generatorName: \"slotLabelContent\", customGenerator: options.slotLabelContent, defaultGenerator: renderInnerContent, classNameGenerator: options.slotLabelClassNames, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-timegrid-slot-label-cushion',\n                    'fc-scrollgrid-shrink-cushion',\n                ] })))));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nclass TimeBodyAxis extends BaseComponent {\n    render() {\n        return this.props.slatMetas.map((slatMeta) => (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, Object.assign({}, slatMeta)))));\n    }\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nconst AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nclass TimeColsView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        this.headerElRef = createRef();\n        this.rootElRef = createRef();\n        this.scrollerElRef = createRef();\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleScrollTopRequest = (scrollTop) => {\n            let scrollerEl = this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        this.renderHeadAxis = (rowKey, frameHeight = '') => {\n            let { options } = this.context;\n            let { dateProfile } = this.props;\n            let range = dateProfile.renderRange;\n            let dayCnt = diffDays(range.start, range.end);\n            // only do in day views (to avoid doing in week views that dont need it)\n            let navLinkAttrs = (dayCnt === 1)\n                ? buildNavLinkAttrs(this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberContainer, { elTag: \"th\", elClasses: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ], elAttrs: {\n                        'aria-hidden': true,\n                    }, date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (InnerContent) => (createElement(\"div\", { className: [\n                        'fc-timegrid-axis-frame',\n                        'fc-scrollgrid-shrink-frame',\n                        'fc-timegrid-axis-frame-liquid',\n                    ].join(' '), style: { height: frameHeight } },\n                    createElement(InnerContent, { elTag: \"a\", elClasses: [\n                            'fc-timegrid-axis-cushion',\n                            'fc-scrollgrid-shrink-cushion',\n                            'fc-scrollgrid-sync-inner',\n                        ], elAttrs: navLinkAttrs })))));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        this.renderTableRowAxis = (rowHeight) => {\n            let { options, viewApi } = this.context;\n            let renderProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ], elAttrs: {\n                    'aria-hidden': true,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (InnerContent) => (createElement(\"div\", { className: [\n                    'fc-timegrid-axis-frame',\n                    'fc-scrollgrid-shrink-frame',\n                    rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : '',\n                ].join(' '), style: { height: rowHeight } },\n                createElement(InnerContent, { elTag: \"span\", elClasses: [\n                        'fc-timegrid-axis-cushion',\n                        'fc-scrollgrid-shrink-cushion',\n                        'fc-scrollgrid-sync-inner',\n                    ] })))));\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n        };\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    renderSimpleLayout(headerRowContent, allDayContent, timeContent) {\n        let { context, props } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { context, props } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (arg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderHeadAxis('day', arg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (contentArg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        let isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: (arg) => (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, (nowDate) => {\n                                let nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: nowDate }));\n                                }\n                                return null;\n                            })))),\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections })));\n    }\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    getAllDayMaxEventProps() {\n        let { dayMaxEvents, dayMaxEventRows } = this.context.options;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents, dayMaxEventRows };\n    }\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\nclass TimeColsSlatsCoords {\n    constructor(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    safeComputeTop(date) {\n        let { dateProfile } = this;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            let startOfDayDate = startOfDay(date);\n            let timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    computeDateTop(when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    computeTimeTop(duration) {\n        let { positions, dateProfile } = this;\n        let len = positions.els.length;\n        // floating-point value of # of slots covered\n        let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        let slatIndex;\n        let slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    }\n}\n\nclass TimeColsSlatsBody extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { slatElRefs } = props;\n        return (createElement(\"tbody\", null, props.slatMetas.map((slatMeta, i) => {\n            let renderProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, Object.assign({}, slatMeta))),\n                createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                        'fc-timegrid-slot',\n                        'fc-timegrid-slot-lane',\n                        !slatMeta.isLabeled && 'fc-timegrid-slot-minor',\n                    ], elAttrs: {\n                        'data-time': slatMeta.isoTimeStr,\n                    }, renderProps: renderProps, generatorName: \"slotLaneContent\", customGenerator: options.slotLaneContent, classNameGenerator: options.slotLaneClassNames, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount })));\n        })));\n    }\n}\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nclass TimeColsSlats extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.slatElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    }\n    componentDidMount() {\n        this.updateSizing();\n    }\n    componentDidUpdate() {\n        this.updateSizing();\n    }\n    componentWillUnmount() {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    }\n    updateSizing() {\n        let { context, props } = this;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            let rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    }\n}\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map((slatMeta) => elMap[slatMeta.key]);\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    let segsByCol = [];\n    let i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nclass TimeColMoreLink extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-timegrid-more-link'], elStyle: {\n                top: props.top,\n                bottom: props.bottom,\n            }, allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props), defaultGenerator: renderMoreLinkInner, forceTimed: true }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-more-link-inner', 'fc-sticky'] }))));\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    let hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    let web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    let segRects = webToRects(web);\n    return { segRects, hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    const { entriesByLevel } = hierarchy;\n    const buildNode = cacheable((level, lateral) => level + ':' + lateral, (level, lateral) => {\n        let siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        let nextLevelRes = buildNodes(siblingRange, buildNode);\n        let entry = entriesByLevel[level][lateral];\n        return [\n            Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    let { level, lateralStart, lateralEnd } = siblingRange;\n    let lateral = lateralStart;\n    let pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    let { levelCoords, entriesByLevel } = hierarchy;\n    let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    let levelCnt = levelCoords.length;\n    let level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        let entries = entriesByLevel[level];\n        let entry;\n        let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        let lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        let lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level, lateralStart, lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {\n        let { nextLevelNodes, thickness } = node;\n        let allThickness = thickness + prevThickness;\n        let thicknessFraction = thickness / allThickness;\n        let endCoord;\n        let newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (let childNode of nextLevelNodes) {\n                if (endCoord === undefined) {\n                    let res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    let res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        let newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    let rects = [];\n    const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {\n        let rect = Object.assign(Object.assign({}, node), { levelCoord,\n            stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        let stackForward = 0;\n        for (let node of nodes) {\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    const cache = {};\n    return (...args) => {\n        let key = keyFunc(...args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc(...args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {\n    let vcoords = [];\n    if (slatCoords) {\n        for (let i = 0; i < segs.length; i += 1) {\n            let seg = segs[i];\n            let spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            let spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    let segInputs = [];\n    let dumbSegs = []; // segs without coords\n    for (let i = 0; i < segs.length; i += 1) {\n        let vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);\n    let segPlacements = [];\n    for (let segRect of segRects) {\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (let dumbSeg of dumbSegs) {\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements, hiddenGroups };\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nclass TimeColEvent extends BaseComponent {\n    render() {\n        return (createElement(StandardEvent, Object.assign({}, this.props, { elClasses: [\n                'fc-timegrid-event',\n                'fc-v-event',\n                this.props.isShort && 'fc-timegrid-event-short',\n            ], defaultTimeFormat: DEFAULT_TIME_FORMAT })));\n    }\n}\n\nclass TimeCol extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.sortEventSegs = memoize(sortEventSegs);\n    }\n    // TODO: memoize event-placement?\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let isSelectMirror = options.selectMirror;\n        let mirrorSegs = // yuck\n         (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        let interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, options.eventOrder);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: props.elRef, elClasses: [\n                'fc-timegrid-col',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'gridcell' }, props.extraDataAttrs), date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraRenderProps: props.extraRenderProps }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n            createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror), 'mirror')),\n            createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, this.renderNowIndicator(props.nowIndicatorSegs)),\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-col-misc'] }))))));\n    }\n    renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { props } = this;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey);\n    }\n    renderPositionedFgSegs(segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;\n        let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map((segPlacement) => {\n                let { seg, rect } = segPlacement;\n                let instanceId = seg.eventRange.instance.instanceId;\n                let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                let vStyle = computeSegVStyle(rect && rect.span);\n                let hStyle = (!isMirror && rect) ? this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                let isInset = Boolean(rect) && rect.stackForward > 0;\n                let isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: forcedKey || instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    }\n    // will already have eventMinHeight applied because segInputs already had it\n    renderHiddenGroups(hiddenGroups, segs) {\n        let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;\n        return (createElement(Fragment, null, hiddenGroups.map((hiddenGroup) => {\n            let positionCss = computeSegVStyle(hiddenGroup.span);\n            let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    }\n    renderFillSegs(segs, fillType) {\n        let { props, context } = this;\n        let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        let children = segVCoords.map((vcoords, i) => {\n            let seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    }\n    renderNowIndicator(segs) {\n        let { slatCoords, date } = this.props;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map((seg, i) => (createElement(NowIndicatorContainer\n        // key doesn't matter. will only ever be one\n        , { \n            // key doesn't matter. will only ever be one\n            key: i, elClasses: ['fc-timegrid-now-indicator-line'], elStyle: {\n                top: slatCoords.computeDateTop(seg.start, date),\n            }, isAxis: false, date: date })));\n    }\n    computeSegHStyle(segHCoords) {\n        let { isRtl, options } = this.context;\n        let shouldOverlap = options.slotEventOverlap;\n        let nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        let farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        let left; // amount of space from left edge, a fraction of the total width\n        let right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        let props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    }\n}\nfunction renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {\n    let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map((seg) => {\n        let instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map((segEntry) => allSegs[segEntry.index]);\n}\n\nclass TimeColsContent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.splitFgEventSegs = memoize(splitSegsByCol);\n        this.splitBgEventSegs = memoize(splitSegsByCol);\n        this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        this.splitEventDrag = memoize(splitInteractionByCol);\n        this.splitEventResize = memoize(splitInteractionByCol);\n        this.rootElRef = createRef();\n        this.cellElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        let colCnt = props.cells.length;\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: props.nowDate })))))),\n                        props.cells.map((cell, i) => (createElement(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))))))));\n    }\n    componentDidMount() {\n        this.updateCoords();\n    }\n    componentDidUpdate() {\n        this.updateCoords();\n    }\n    updateCoords() {\n        let { props } = this;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    }\n}\nfunction collectCellEls(elMap, cells) {\n    return cells.map((cell) => elMap[cell.key]);\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nclass TimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.processSlotOptions = memoize(processSlotOptions);\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleRootEl = (el) => {\n            if (el) {\n                this.context.registerInteractiveComponent(this, {\n                    el,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n        this.handleScrollRequest = (request) => {\n            let { onScrollTopRequest } = this.props;\n            let { slatCoords } = this.state;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    let top = slatCoords.computeTimeTop(request.time);\n                    top = Math.ceil(top); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top) {\n                        top += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top);\n                }\n                return true;\n            }\n            return false;\n        };\n        this.handleColCoords = (colCoords) => {\n            this.colCoords = colCoords;\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n            if (this.props.onSlatCoords) {\n                this.props.onSlatCoords(slatCoords);\n            }\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    }\n    componentDidMount() {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    }\n    componentDidUpdate(prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    }\n    componentWillUnmount() {\n        this.scrollResponder.detach();\n    }\n    queryHit(positionLeft, positionTop) {\n        let { dateEnv, options } = this.context;\n        let { colCoords } = this;\n        let { dateProfile } = this.props;\n        let { slatCoords } = this.state;\n        let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);\n        let colIndex = colCoords.leftToIndex(positionLeft);\n        let slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            let cell = this.props.cells[colIndex];\n            let slatTop = slatCoords.positions.tops[slatIndex];\n            let slatHeight = slatCoords.positions.getHeight(slatIndex);\n            let partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            let localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            let dayDate = this.props.cells[colIndex].date;\n            let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            let start = dateEnv.add(dayDate, time);\n            let end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile,\n                dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n}\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    let snapDuration = snapDurationOverride || slotDuration;\n    let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration, snapsPerSlot };\n}\n\nclass DayTimeColsSlicer extends Slicer {\n    sliceRange(range, dayRanges) {\n        let segs = [];\n        for (let col = 0; col < dayRanges.length; col += 1) {\n            let segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col,\n                });\n            }\n        }\n        return segs;\n    }\n}\n\nclass DayTimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.buildDayRanges = memoize(buildDayRanges);\n        this.slicer = new DayTimeColsSlicer();\n        this.timeColsRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        let { dateProfile, dayTableModel } = props;\n        let { nowIndicator, nextDayThreshold } = context.options;\n        let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: nowIndicator ? 'minute' : 'day' }, (nowDate, todayRange) => (createElement(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: nowIndicator && this.slicer.sliceNowDate(nowDate, dateProfile, nextDayThreshold, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })))));\n    }\n}\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    let ranges = [];\n    for (let date of dayTableModel.headerDates) {\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nconst STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    let dayStart = new Date(0);\n    let slatTime = slotMinTime;\n    let slatIterator = createDuration(0);\n    let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    let metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        let date = dateEnv.add(dayStart, slatTime);\n        let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    let i;\n    let labelInterval;\n    let slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nclass DayTimeColsView extends TimeColsView {\n    constructor() {\n        super(...arguments);\n        this.buildTimeColsModel = memoize(buildTimeColsModel);\n        this.buildSlatMetas = memoize(buildSlatMetas);\n    }\n    render() {\n        let { options, dateEnv, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let { dateProfile } = props;\n        let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        let splitProps = this.allDaySplitter.splitProps(props);\n        let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        let { dayMinWidth } = options;\n        let hasAttachedAxis = !dayMinWidth;\n        let hasDetachedAxis = dayMinWidth;\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        let allDayContent = (options.allDaySlot !== false) && ((contentArg) => (createElement(DayTable, Object.assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps()))));\n        let timeGridContent = (contentArg) => (createElement(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest })));\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    }\n}\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar css_248z = \".fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\\\00a0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\\\00a0-\\\\00a0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}\";\ninjectStyles(css_248z);\n\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n"],"names":["RouterModule","CalendarComponent","routes","path","component","CalendarRoutingModule","forChild","imports","i1","exports","dayGridPlugin","interactionPlugin","timeGridPlugin","listPlugin","INITIAL_EVENTS","createEventId","i0","elementStart","text","elementEnd","advance","textInterpolate","arg_r1","timeText","event","title","template","CalendarComponent_Conditional_35_ng_template_1_Template","templateRefExtractor","property","ctx_r1","calendarOptions","constructor","changeDetector","country","calendarVisible","plugins","headerToolbar","left","center","right","initialView","initialEvents","weekends","editable","selectable","selectMirror","dayMaxEvents","select","handleDateSelect","bind","eventClick","handleEventClick","eventsSet","handleEvents","currentEvents","handleCalendarToggle","handleWeekendsToggle","selectInfo","prompt","calendarApi","view","calendar","unselect","addEvent","id","start","startStr","end","endStr","allDay","clickInfo","confirm","remove","events","detectChanges","directiveInject","ChangeDetectorRef","selectors","decls","vars","consts","template","CalendarComponent_Template","rf","ctx","element","CalendarComponent_Conditional_35_Template","conditional","CommonModule","sharedModule","CalendarModule","declarations","eventGuid","TODAY_STR","Date","toISOString","replace","String","createPlugin","DayGridView","DayTableView","TableDateProfileGenerator","index","name","views","dayGrid","dateProfileGeneratorClass","dayGridDay","type","duration","days","dayGridWeek","weeks","dayGridMonth","months","fixedWeekCount","dayGridYear","years","default","DateComponent","getStickyHeaderDates","ViewContainer","SimpleScrollGrid","getStickyFooterScrollbar","renderScrollShim","createFormatter","BaseComponent","StandardEvent","buildSegTimeText","EventContainer","getSegAnchorAttrs","memoize","MoreLinkContainer","getSegMeta","getUniqueDomId","setRef","DayCellContainer","WeekNumberContainer","buildNavLinkAttrs","hasCustomDayCellContent","addMs","intersectRanges","addDays","SegHierarchy","buildEntryKey","intersectSpans","RefMap","sortEventSegs","isPropsEqual","buildEventRangeKey","BgEvent","renderFill","PositionCache","NowTimer","formatIsoMonthStr","formatDayString","Slicer","DayHeader","DaySeriesModel","DayTableModel","DateProfileGenerator","addWeeks","diffWeeks","injectStyles","createRef","createElement","Fragment","TableView","arguments","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","props","context","sections","stickyHeaderDates","options","push","key","isSticky","chunk","elRef","tableClassName","rowContent","liquid","content","elClasses","viewSpec","isHeightAuto","forPrint","collapsibleWidth","cols","renderHScrollLayout","colCnt","dayMinWidth","ScrollGrid","pluginHooks","scrollGridImpl","Error","stickyFooterScrollbar","chunks","colGroups","span","minWidth","splitSegsByRow","segs","rowCnt","byRow","i","seg","row","splitSegsByFirstCol","byCol","firstCol","splitInteractionByRow","ui","affectedInstances","isEvent","DEFAULT_TABLE_EVENT_TIME_FORMAT","hour","minute","omitZeroMinute","meridiem","hasListItemDisplay","display","eventRange","def","lastCol","isStart","isEnd","TableBlockEvent","render","Object","assign","defaultTimeFormat","defaultDisplayEventEnd","disableResizing","TableListItemEvent","timeFormat","eventTimeFormat","elTag","elAttrs","defaultGenerator","renderInnerContent","isResizing","isDateSelecting","renderProps","className","style","borderColor","backgroundColor","TableCellMoreLink","compileSegs","allSegs","invisibleSegs","singlePlacements","dateProfile","todayRange","allDayDate","moreCnt","hiddenSegs","alignmentElRef","alignGridTop","extraDateSpan","popoverContent","isForcedInvisible","eventDrag","eventResize","map","instanceId","instance","visibility","isDragging","isSelected","eventSelection","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","week","TableCell","rootElRef","state","dayNumberId","handleRootEl","el","dateEnv","date","isMonthStart","showDayNumber","shouldDisplayMonthStart","currentRange","extraClassNames","extraDataAttrs","role","renderTopInner","extraRenderProps","InnerContent","ref","innerElRef","minHeight","showWeekNumber","defaultFormat","isDisabled","forceDayTop","undefined","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","dayNumberText","currentStart","currentEnd","currentEndIncl","currentFirstYear","getYear","currentFirstMonth","getMonth","currentLastYear","currentLastMonth","Boolean","valueOf","getDay","generateSegKey","generateSegUid","computeFgSegPlacement","dayMaxEventRows","strictOrder","segHeights","maxContentHeight","cells","hierarchy","DayGridSegHierarchy","segEntry","segUid","allowReslicing","maxCoord","hiddenConsumes","maxStackCnt","segInputs","unknownHeightSegs","length","eventHeight","hiddenEntries","addSegs","segRects","toRects","singleColPlacements","multiColPlacements","leftoverMargins","placeRects","moreCnts","moreMarginTops","isAbsolute","absoluteTop","col","resliceSeg","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","rects","currentHeight","currentMarginTop","rect","levelCoord","thickness","multiPlacements","isFirstCol","spanStart","spanEnd","origRange","range","slicedRange","durationEditable","forceHidden","entriesByLevel","excludeHidden","entry","level","filter","handleInvalidInsertion","insertion","touchingEntry","touchingLevel","touchingLateral","touchingEntryId","hiddenEntryId","splitEntry","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","handleResize","isForced","updateSizing","businessHoursByCol","businessHourSegs","bgEventSegsByCol","bgEventSegs","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","fgEventSegs","eventOrder","eventOrderStrict","renderIntro","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","cellMinHeight","componentDidMount","addResizeHandler","componentDidUpdate","prevProps","prevState","currentProps","componentWillUnmount","removeResizeHandler","dateSelectionSegs","segPlacements","isMirror","nodes","isRtl","lefts","rights","top","fillType","leftRightCss","isExternalSizingChange","clientWidth","frameEls","currentMap","originEl","current","newPositionCache","similarTo","setState","oldSegHeights","newSegHeights","querySegHeights","limitByContentHeight","safeSetState","computeMaxContentHeight","segElMap","height","Math","round","getBoundingClientRect","max","firstKey","cellEl","fcContainerEl","bottom","getCellEls","elMap","addStateEquality","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","placements","TableRows","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","aspectRatio","unit","nowDate","renderRowIntro","isSegAllDay","clientHeight","registerInteractiveComponent","rootEl","firstCellEl","closest","isHitComboAllowed","unregisterInteractiveComponent","prepareHits","rowPositions","collect","rowObj","colPositions","queryHit","positionLeft","positionTop","leftToIndex","topToIndex","dateSpan","getCellRange","dayEl","getCellEl","tops","bottoms","layer","Table","needsScrollReset","expandRows","limitViaBalanced","classNames","join","width","tableMinWidth","colGroupNode","requestScrollReset","flushScrollReset","subjectEl","getScrollSubjectEl","scrollEl","scrollTop","containerEl","currentRangeUnit","match","querySelector","currentDate","DayTableSlicer","forceDayIfListItem","sliceRange","dateRange","dayTableModel","DayTable","slicer","tableRef","sliceProps","nextDayThreshold","headerAlignElRef","buildDayTableModel","headerRef","dateProfileGenerator","headerContent","dayHeaders","dates","headerDates","datesRepDistinctDays","contentArg","businessHours","dateSelection","eventStore","eventUiBases","tableColGroupNode","weekNumbers","daySeries","renderRange","test","buildRenderRange","isRangeAllDay","buildDayTableRenderRange","snapToWeek","endOfWeek","startOfWeek","lastMonthRenderStart","startOfMonth","ceil","css_248z","config","Emitter","elementClosest","applyStyle","whenTransitionDone","removeElement","ScrollController","ElementScrollController","computeInnerRect","WindowScrollController","ElementDragging","preventSelection","preventContextMenu","allowSelection","allowContextMenu","computeRect","getClippingParents","pointInsideRect","constrainPoint","intersectRects","getRectCenter","diffPoints","mapHash","rangeContainsRange","isDateSpansEqual","Interaction","interactionSettingsToStore","isDateSelectionValid","enableCursor","disableCursor","triggerDateSelect","compareNumbers","getElSeg","getRelevantEvents","EventImpl","createEmptyEventStore","applyMutationToEventStore","isInteractionValid","buildEventApis","interactionSettingsStore","startOfDay","diffDates","createDuration","getEventTargetViaRoot","identity","eventTupleToStore","parseDragMeta","elementMatches","refineEventDef","parseEventDef","getDefaultEventEnd","createEventInstance","BASE_OPTION_DEFAULTS","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","selector","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","ev","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","pev","createEventFromMouse","emitter","trigger","initScrollWatch","document","addEventListener","handleMouseMove","handleMouseUp","recordCoords","removeEventListener","cleanup","handleTouchStart","createEventFromTouch","targetEl","target","handleTouchMove","handleTouchEnd","window","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","scrollX","prevScrollX","prevPageX","pageY","scrollY","prevScrollY","prevPageY","origEvent","isTouch","deltaX","origPageX","deltaY","origPageY","passive","listenerCreated","destroy","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","button","ctrlKey","setTimeout","onWindowTouchMove","preventDefault","ElementMirror","sourceEl","mirrorEl","sourceElRect","parentNode","body","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","bool","stop","needsRevertAnimation","callback","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","userSelect","webkitUserSelect","pointerEvents","classList","add","position","boxSizing","margin","appendChild","ScrollGeomCache","scrollController","doesListening","getScrollTop","scrollLeft","getScrollLeft","handleScrollChange","origScrollTop","origScrollLeft","scrollWidth","getScrollWidth","scrollHeight","getScrollHeight","getClientWidth","getClientHeight","clientRect","computeClientRect","getEventTarget","setScrollTop","min","getMaxScrollTop","setScrollLeft","getMaxScrollLeft","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","now","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","seconds","invDistance","distance","velocity","sign","bestSide","leftDist","rightDist","topDist","bottomDist","canScrollUp","canScrollDown","canScrollLeft","canScrollRight","queryScrollEls","els","query","Array","prototype","slice","call","getRootNode","querySelectorAll","FeaturefulElementDragging","delay","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","clearTimeout","on","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","OffsetTracker","origRect","computeLeft","computeTop","isWithinClipping","point","isIgnoredClipping","node","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","disablePointCheck","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","HTMLElement","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","activeRange","contains","elementFromPoint","componentId","hit0","hit1","buildDatePointApiWithContext","transform","datePointTransforms","buildDatePointApi","toDate","dateStr","formatIso","omitTime","DateClicking","settings","isValidDateDownEl","hitDragging","arg","jsEvent","viewApi","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSelectionTransformers","dispatch","selection","selectMinDistance","dragScroll","selectLongPressDelay","longPressDelay","dateSpan0","dateSpan1","ms","sort","transformer","res","EventDragging","subjectSeg","relevantEvents","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","eventInstanceId","getCurrentData","eventDragMinDistance","getComponentTouchDelay","fixedMirrorParent","dragRevertDuration","isValid","isValidSegDownEl","mutation","interaction","affectedEvents","mutatedEvents","receivingOptions","droppable","computeEventMutation","eventDragMutationMassagers","displayDrag","eventDef","eventInstance","eventApi","clearDrag","updatedEventApi","defs","defId","instances","eventChangeArg","oldEvent","relatedEvents","revert","transformed","eventDropTransformers","delta","datesDelta","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","useEventCenter","nextContext","prevContext","initialCalendar","eventInstanceStart","massagers","date0","date1","standardProps","hasEnd","allDayMaintainDuration","largeUnit","milliseconds","massager","eventLongPressDelay","EventResizing","draggingSegEl","draggingSeg","segEl","querySegEl","computeMutation","startDelta","endDelta","isFromStart","instanceRange","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","onDocumentPointerDown","unselectCancel","onDocumentPointerUp","documentPointer","calendarState","unselectAuto","off","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","create","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents","getDragMetaFromEl","dropAccept","defProps","leftoverProps","externalDefTransforms","refined","extra","sourceId","forceEventDuration","startTime","str","getEmbeddedElData","obj","JSON","parse","dataAttrPrefix","prefix","prefixedName","getAttribute","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","externalDragging","componentInteractions","calendarInteractions","elementDraggingImpl","optionRefiners","listenerRefiners","Draggable","ListView","listDayFormat","createFalsableFormatter","listDaySideFormat","noEventsClassNames","noEventsContent","noEventsDidMount","noEventsWillUnmount","input","list","buttonTextKey","month","day","year","listDay","weekday","listWeek","listMonth","listYear","getDateMeta","ContentContainer","getDayClassNames","isMultiDayRange","Scroller","sliceEventStore","ListViewHeaderRow","textId","theme","cellId","dayDate","dayMeta","text","format","sideText","navLinkAttrs","sideNavLinkAttrs","generatorName","customGenerator","dayHeaderContent","classNameGenerator","dayHeaderClassNames","didMount","dayHeaderDidMount","willUnmount","dayHeaderWillUnmount","scope","colSpan","getClass","DEFAULT_TIME_FORMAT","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","url","renderEventInnerContent","disableDragging","eventContentArg","buildTimeContent","headers","interactiveAttrs","displayEventTime","doAllDay","allDayText","allDayContent","renderAllDayInner","allDayClassNames","allDayDidMount","allDayWillUnmount","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","dayRanges","eventSegs","overflowX","overflowY","renderSegList","renderEmptyMessage","noEventsText","renderNoEventsInner","segsByDay","groupSegsByDay","innerNodes","dayIndex","daySegs","dayStr","timeHint","eventHint","eventRangesToSegs","fg","eventRanges","eventRangeToSegs","segRange","dayStart","viewEnd","DayTimeColsView","allDaySlot","timeGrid","usesMinMaxTime","slotDuration","slotEventOverlap","timeGridDay","timeGridWeek","Splitter","hasBgRendering","ViewContextType","diffDays","NowIndicatorContainer","rangeContainsMarker","asRoughMs","groupIntersectingEntries","binarySearch","getEntrySpanEnd","buildIsoString","computeEarliestSegStart","addDurations","multiplyDuration","wholeDivideDurations","formatIsoTimeString","AllDaySplitter","getKeyInfo","timed","getKeysForDateSpan","getKeysForEventDef","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","Consumer","isoTimeStr","labelFormat","slotLabelFormat","isArray","time","slotLabelContent","slotLabelClassNames","slotLabelDidMount","slotLabelWillUnmount","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","scrollerElRef","slatCoords","handleScrollTopRequest","scrollerEl","renderHeadAxis","rowKey","frameHeight","dayCnt","renderTableRowAxis","rowHeight","handleSlatCoords","timeContent","outerContent","syncRowHeights","rowSyncHeights","isNowIndicator","nowIndicator","nowIndicatorTop","safeComputeTop","elStyle","isAxis","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","slotMinTime","slotMaxTime","computeTimeTop","computeDateTop","when","len","slatCoverage","slatIndex","slatRemainder","floor","getHeight","TimeColsSlatsBody","slatElRefs","axis","slotLaneContent","slotLaneClassNames","slotLaneDidMount","slotLaneWillUnmount","TimeColsSlats","onCoords","offsetHeight","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","renderMoreLinkInner","forceTimed","shortText","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","lateral","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","a","b","subjectLevel","subjectLateral","levelCoords","subjectEntry","afterSubject","levelCnt","entries","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","childNode","newThickness","processNode","stackDepth","stackForward","processNodes","keyFunc","workFunc","cache","args","computeSegVCoords","colDate","eventMinHeight","vcoords","computeFgSegPlacements","segVCoords","eventMaxStack","dumbSegs","segRect","dumbSeg","TimeColEvent","isShort","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","forcedKey","renderPositionedFgSegs","eventShortHeight","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","children","segHCoords","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","handleScrollRequest","request","onScrollTopRequest","handleColCoords","colCoords","onSlatCoords","scrollResponder","createScrollResponder","update","detach","snapDuration","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeColsSlicer","DayTimeCols","buildDayRanges","timeColsRef","sliceNowDate","ranges","STOCK_SUB_DURATIONS","hours","minutes","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","buildTimeColsModel","splitProps","slotLabelInterval","hasAttachedAxis","hasDetachedAxis","timeGridContent"],"sourceRoot":"webpack:///","x_google_ignoreList":[5,6,7,8,9,10,11]}